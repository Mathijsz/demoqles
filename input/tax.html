<html>
  <head>
    <title>taxOfficeExample</title>
    <link rel="stylesheet" type="text/css" href="file:///Users/tvdstorm/CWI/muql/src/lang/muql/ql.css" />
    <link rel="stylesheet" type="text/css" href="file:///Users/tvdstorm/CWI/muql/src/lang/muql/basic.css" />
  </head>
  <body>
    
 <div id="0:page" data-bind="visible: ($page() === 0)">
   <h1>"Buying"</h1>
   <p data-bind="visible: hasBoughtHouse_88_visible">"Did you buy a house in 2010?"&nbsp;<span style=""><label for="hasBoughtHouse_88">"Did you buy a house in 2010?"</label>
   <input name="hasBoughtHouse_88" id="hasBoughtHouse_88" type="checkbox" data-bind="checked: hasBoughtHouse_88" /></span></p>
   
   <h1>"Loaning"</h1>
   <p data-bind="visible: hasMaintLoan_149_visible">"Did you enter a loan?"&nbsp;<span style=""><label for="hasMaintLoan_149">"Did you enter a loan?"</label>
   <input name="hasMaintLoan_149" id="hasMaintLoan_149" type="checkbox" data-bind="checked: hasMaintLoan_149" /></span></p>
   
   
   <button data-bind="click: $prevPage">Previous</button>
   <button data-bind="click: $nextPage">Next</button>
 </div>

 <div id="1:page" data-bind="visible: ($page() === 1)">
   <h1>"Selling"</h1>
   <p data-bind="visible: hasSoldHouse_28_visible">"Did you sell a house in 2010?"&nbsp;<span style=""><div>
     <input type="radio" name="hasSoldHouse_28" id="hasSoldHouse_28" 
        value="true" data-bind="checked: hasSoldHouse_28"  />
       "Yes"
   </div>
   <div>
     <input type="radio" name="hasSoldHouse_28" id="hasSoldHouse_28" 
        value="" data-bind="checked: hasSoldHouse_28" />
       "No"
   </div></span></p>
   
   <h2>"You sold a house"</h2>
   <p data-bind="visible: sellingPrice_225_visible">"What was the selling price?"&nbsp;<span style="width: 400; font: "Arial"; fontsize: 14; color: #999999; "><input type="number" data-bind="value: sellingPrice_225"
      name="sellingPrice_225" id="sellingPrice_225" /></span></p>
   
   <p data-bind="visible: privateDebt_285_visible">"Private debts for the sold house:"&nbsp;<span style="width: 400; font: "Arial"; fontsize: 14; color: #999999; "><input type="number" data-bind="value: privateDebt_285"
      name="privateDebt_285" id="privateDebt_285" /></span></p>
   
   <p data-bind="visible: valueResidue_350_visible">"Value residue:"&nbsp;<span style="width: 400; font: "Arial"; fontsize: 14; color: #999999; "><input type="number" data-bind="value: valueResidue_350"
      name="valueResidue_350" id="valueResidue_350" /></span></p>
   
   
   
   
   <button data-bind="click: $prevPage">Previous</button>
   <button data-bind="click: $nextPage">Next</button>
 </div>

    <script type='text/javascript' src='http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js'></script>
    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js'></script>
    <script>
    function taxOfficeExample$model() {
  var self = this;
  self.hasSoldHouse_28 = ko.observable(false);
  self.hasSoldHouse_28_visible = ko.computed(function() {
    console.log("Computing: true\n");
    return true;
  }, self, {deferEvaluation: true});
  self.hasBoughtHouse_88 = ko.observable(false);
  self.hasBoughtHouse_88_visible = ko.computed(function() {
    console.log("Computing: true\n");
    return true;
  }, self, {deferEvaluation: true});
  self.hasMaintLoan_149 = ko.observable(false);
  self.hasMaintLoan_149_visible = ko.computed(function() {
    console.log("Computing: true\n");
    return true;
  }, self, {deferEvaluation: true});
  self.sellingPrice_225 = ko.observable(0.0);
  self.sellingPrice_225_visible = ko.computed(function() {
    console.log("Computing: true && hasSoldHouse\n");
    return true && self.hasSoldHouse_28();
  }, self, {deferEvaluation: true});
  self.privateDebt_285 = ko.observable(0.0);
  self.privateDebt_285_visible = ko.computed(function() {
    console.log("Computing: true && hasSoldHouse\n");
    return true && self.hasSoldHouse_28();
  }, self, {deferEvaluation: true});
  self.valueResidue_350 = ko.computed(function() {
    console.log("Computing: (sellingPrice - privateDebt)\n");
    return (self.sellingPrice_225() - (self.privateDebt_285_visible() ? self.privateDebt_285() : (self.privateDebt_439_visible() ? self.privateDebt_439() : null)));
  }, self, {deferEvaluation: true});
  self.valueResidue_350_readonly = true;
  self.valueResidue_350_visible = ko.computed(function() {
    console.log("Computing: true && hasSoldHouse\n");
    return true && self.hasSoldHouse_28();
  }, self, {deferEvaluation: true});
  self.privateDebt_439 = ko.observable(0.0);
  self.privateDebt_439_visible = ko.computed(function() {
    console.log("Computing: true\n");
    return true;
  }, self, {deferEvaluation: true});
  
  self.$page = ko.observable(0);
  self.$prevPage = function () {
    if (self.$page() > 0)  
     self.$page(self.$page() - 1);
  };
  self.$nextPage = function () {
    if (self.$page() < 1)  
     self.$page(self.$page() + 1);
  };
  
}
$(document).ready(function() {
   ko.applyBindings(new taxOfficeExample$model());
});
    </script>
  </body>    
</html>

